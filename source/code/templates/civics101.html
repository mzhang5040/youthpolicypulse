{% extends "base.html" %}

{% block title %}Civics 101 - Youth Policy Pulse{% endblock %}

{% block content %}
<div class="row">
    <div class="col-lg-10 mx-auto">
        <!-- Header -->
        <div class="text-center mb-5">
            <h1 class="display-4 mb-3">
                <i class="fas fa-graduation-cap text-primary me-3"></i>Civics 101
            </h1>
            <p class="lead">Learn how Congress works and understand the legislative process</p>
        </div>

        <!-- Lesson Navigation -->
        <div class="card mb-4">
            <div class="card-body">
                <h5 class="card-title">
                    <i class="fas fa-book me-2"></i>Mini-Lessons
                </h5>
                <div class="row">
                    <div class="col-md-4 mb-2">
                        <a href="#bill-law" class="btn btn-outline-primary w-100">
                            <i class="fas fa-file-alt me-1"></i>How a Bill Becomes Law
                        </a>
                    </div>
                    <div class="col-md-4 mb-2">
                        <a href="#committees" class="btn btn-outline-primary w-100">
                            <i class="fas fa-users me-1"></i>What is a Committee?
                        </a>
                    </div>
                    <div class="col-md-4 mb-2">
                        <a href="#state-federal" class="btn btn-outline-primary w-100">
                            <i class="fas fa-balance-scale me-1"></i>State vs Federal Bills
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Lesson 1: How a Bill Becomes Law -->
        <div class="card mb-5" id="bill-law">
            <div class="card-header bg-primary text-white">
                <h3 class="mb-0">
                    <i class="fas fa-file-alt me-2"></i>How a Bill Becomes Law
                </h3>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-lg-8">
                        <h5>The Legislative Process</h5>
                        <p>Understanding how a bill becomes law helps you track legislation and engage with your representatives effectively.</p>
                        
                        <div class="process-steps">
                            <div class="step mb-4">
                                <div class="step-number">1</div>
                                <div class="step-content">
                                    <h6><i class="fas fa-lightbulb text-warning me-2"></i>Idea & Introduction</h6>
                                    <p>A member of Congress introduces a bill in either the House or Senate. The bill gets assigned a number (HR for House, S for Senate).</p>
                                </div>
                            </div>
                            
                            <div class="step mb-4">
                                <div class="step-number">2</div>
                                <div class="step-content">
                                    <h6><i class="fas fa-users text-info me-2"></i>Committee Review</h6>
                                    <p>The bill is referred to a relevant committee where experts review, amend, and vote on it. Most bills die in committee.</p>
                                </div>
                            </div>
                            
                            <div class="step mb-4">
                                <div class="step-number">3</div>
                                <div class="step-content">
                                    <h6><i class="fas fa-vote-yea text-success me-2"></i>Floor Vote</h6>
                                    <p>If approved by committee, the bill goes to the full chamber (House or Senate) for debate and voting.</p>
                                </div>
                            </div>
                            
                            <div class="step mb-4">
                                <div class="step-number">4</div>
                                <div class="step-content">
                                    <h6><i class="fas fa-exchange-alt text-primary me-2"></i>Other Chamber</h6>
                                    <p>The bill must pass both House and Senate. If versions differ, a conference committee reconciles them.</p>
                                </div>
                            </div>
                            
                            <div class="step mb-4">
                                <div class="step-number">5</div>
                                <div class="step-content">
                                    <h6><i class="fas fa-signature text-danger me-2"></i>Presidential Action</h6>
                                    <p>The President can sign the bill into law, veto it (requiring 2/3 override), or let it become law without signature.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-lg-4">
                        <div class="card bg-light">
                            <div class="card-body">
                                <h6><i class="fas fa-chart-line me-2"></i>Bill Success Rate</h6>
                                <div class="progress mb-2" style="height: 20px;">
                                    <div class="progress-bar bg-success" style="width: 4%">4%</div>
                                </div>
                                <small class="text-muted">Only about 4% of introduced bills become law</small>
                                
                                <hr>
                                
                                <h6><i class="fas fa-clock me-2"></i>Average Timeline</h6>
                                <ul class="list-unstyled small">
                                    <li><i class="fas fa-calendar me-1"></i>Introduction to Committee: 1-2 weeks</li>
                                    <li><i class="fas fa-calendar me-1"></i>Committee Review: 2-6 months</li>
                                    <li><i class="fas fa-calendar me-1"></i>Floor Vote: 1-4 weeks</li>
                                    <li><i class="fas fa-calendar me-1"></i>Other Chamber: 1-6 months</li>
                                    <li><i class="fas fa-calendar me-1"></i>Presidential Action: 10 days</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Lesson 2: What is a Committee? -->
        <div class="card mb-5" id="committees">
            <div class="card-header bg-info text-white">
                <h3 class="mb-0">
                    <i class="fas fa-users me-2"></i>What is a Committee?
                </h3>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-lg-8">
                        <h5>Congressional Committees Explained</h5>
                        <p>Committees are specialized groups of lawmakers who focus on specific policy areas. They're where the real work of Congress happens!</p>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <h6><i class="fas fa-star text-warning me-2"></i>Types of Committees</h6>
                                <ul class="list-group list-group-flush">
                                    <li class="list-group-item">
                                        <strong>Standing Committees:</strong> Permanent committees (e.g., Education, Defense)
                                    </li>
                                    <li class="list-group-item">
                                        <strong>Select Committees:</strong> Temporary, special purpose
                                    </li>
                                    <li class="list-group-item">
                                        <strong>Joint Committees:</strong> Members from both chambers
                                    </li>
                                    <li class="list-group-item">
                                        <strong>Conference Committees:</strong> Resolve differences between House/Senate bills
                                    </li>
                                </ul>
                            </div>
                            
                            <div class="col-md-6">
                                <h6><i class="fas fa-cogs text-primary me-2"></i>Committee Functions</h6>
                                <ul class="list-group list-group-flush">
                                    <li class="list-group-item">
                                        <i class="fas fa-search me-2"></i>Hold hearings and investigations
                                    </li>
                                    <li class="list-group-item">
                                        <i class="fas fa-edit me-2"></i>Mark up and amend bills
                                    </li>
                                    <li class="list-group-item">
                                        <i class="fas fa-vote-yea me-2"></i>Vote on bill recommendations
                                    </li>
                                    <li class="list-group-item">
                                        <i class="fas fa-gavel me-2"></i>Oversee executive branch agencies
                                    </li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="mt-4">
                            <h6><i class="fas fa-list me-2"></i>Major House Committees</h6>
                            <div class="row">
                                <div class="col-md-4">
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-graduation-cap me-2"></i>Education & Labor</li>
                                        <li><i class="fas fa-heartbeat me-2"></i>Energy & Commerce</li>
                                        <li><i class="fas fa-shield-alt me-2"></i>Homeland Security</li>
                                    </ul>
                                </div>
                                <div class="col-md-4">
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-dollar-sign me-2"></i>Ways & Means</li>
                                        <li><i class="fas fa-gavel me-2"></i>Judiciary</li>
                                        <li><i class="fas fa-leaf me-2"></i>Natural Resources</li>
                                    </ul>
                                </div>
                                <div class="col-md-4">
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-plane me-2"></i>Armed Services</li>
                                        <li><i class="fas fa-home me-2"></i>Financial Services</li>
                                        <li><i class="fas fa-road me-2"></i>Transportation</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-lg-4">
                        <div class="card bg-light">
                            <div class="card-body">
                                <h6><i class="fas fa-lightbulb me-2"></i>Fun Facts</h6>
                                <ul class="list-unstyled small">
                                    <li class="mb-2">
                                        <i class="fas fa-users me-2"></i>
                                        <strong>House:</strong> 20 standing committees
                                    </li>
                                    <li class="mb-2">
                                        <i class="fas fa-users me-2"></i>
                                        <strong>Senate:</strong> 16 standing committees
                                    </li>
                                    <li class="mb-2">
                                        <i class="fas fa-calendar me-2"></i>
                                        <strong>Average:</strong> 2-3 committee assignments per member
                                    </li>
                                    <li class="mb-2">
                                        <i class="fas fa-chart-bar me-2"></i>
                                        <strong>Power:</strong> Committees kill 90%+ of bills
                                    </li>
                                </ul>
                                
                                <hr>
                                
                                <h6><i class="fas fa-microphone me-2"></i>Public Participation</h6>
                                <p class="small">Committees hold public hearings where citizens, experts, and organizations can testify. This is your chance to influence legislation!</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Lesson 3: State vs Federal Bills -->
        <div class="card mb-5" id="state-federal">
            <div class="card-header bg-success text-white">
                <h3 class="mb-0">
                    <i class="fas fa-balance-scale me-2"></i>State vs Federal Bills
                </h3>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-lg-8">
                        <h5>Understanding Different Levels of Government</h5>
                        <p>Not all laws are created equal! Understanding the difference between state and federal legislation helps you know where to focus your advocacy efforts.</p>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="card border-primary">
                                    <div class="card-header bg-primary text-white">
                                        <h6 class="mb-0">
                                            <i class="fas fa-flag-usa me-2"></i>Federal Bills
                                        </h6>
                                    </div>
                                    <div class="card-body">
                                        <h6>Scope & Authority</h6>
                                        <ul class="small">
                                            <li>National issues affecting all states</li>
                                            <li>Constitutional powers (defense, trade, immigration)</li>
                                            <li>Supreme Court interpretation</li>
                                        </ul>
                                        
                                        <h6>Examples</h6>
                                        <ul class="small">
                                            <li>Healthcare reform (ACA)</li>
                                            <li>Environmental regulations</li>
                                            <li>Tax policy</li>
                                            <li>Defense spending</li>
                                        </ul>
                                        
                                        <h6>Process</h6>
                                        <ul class="small">
                                            <li>House + Senate approval</li>
                                            <li>Presidential signature</li>
                                            <li>Can override state laws</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="col-md-6">
                                <div class="card border-info">
                                    <div class="card-header bg-info text-white">
                                        <h6 class="mb-0">
                                            <i class="fas fa-map-marked-alt me-2"></i>State Bills
                                        </h6>
                                    </div>
                                    <div class="card-body">
                                        <h6>Scope & Authority</h6>
                                        <ul class="small">
                                            <li>State-specific issues</li>
                                            <li>Reserved powers (education, criminal law)</li>
                                            <li>State constitution</li>
                                        </ul>
                                        
                                        <h6>Examples</h6>
                                        <ul class="small">
                                            <li>Education policy</li>
                                            <li>Criminal justice reform</li>
                                            <li>State taxes</li>
                                            <li>Local infrastructure</li>
                                        </ul>
                                        
                                        <h6>Process</h6>
                                        <ul class="small">
                                            <li>State legislature approval</li>
                                            <li>Governor signature</li>
                                            <li>Must comply with federal law</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mt-4">
                            <h6><i class="fas fa-arrows-alt me-2"></i>Key Differences</h6>
                            <div class="table-responsive">
                                <table class="table table-bordered">
                                    <thead class="table-light">
                                        <tr>
                                            <th>Aspect</th>
                                            <th>Federal</th>
                                            <th>State</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><strong>Scope</strong></td>
                                            <td>National</td>
                                            <td>State-wide</td>
                                        </tr>
                                        <tr>
                                            <td><strong>Authority</strong></td>
                                            <td>Constitutional powers</td>
                                            <td>Reserved powers</td>
                                        </tr>
                                        <tr>
                                            <td><strong>Process</strong></td>
                                            <td>Congress + President</td>
                                            <td>State Legislature + Governor</td>
                                        </tr>
                                        <tr>
                                            <td><strong>Impact</strong></td>
                                            <td>All 50 states</td>
                                            <td>Single state</td>
                                        </tr>
                                        <tr>
                                            <td><strong>Timeline</strong></td>
                                            <td>2+ years average</td>
                                            <td>6-12 months average</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-lg-4">
                        <div class="card bg-light">
                            <div class="card-body">
                                <h6><i class="fas fa-question-circle me-2"></i>Which Level Should You Focus On?</h6>
                                
                                <div class="mb-3">
                                    <h6 class="text-primary">Federal Issues</h6>
                                    <ul class="small">
                                        <li>National security</li>
                                        <li>Immigration policy</li>
                                        <li>Federal taxes</li>
                                        <li>Environmental regulations</li>
                                        <li>Healthcare (Medicare/Medicaid)</li>
                                    </ul>
                                </div>
                                
                                <div class="mb-3">
                                    <h6 class="text-info">State Issues</h6>
                                    <ul class="small">
                                        <li>Education funding</li>
                                        <li>Criminal justice</li>
                                        <li>State taxes</li>
                                        <li>Local infrastructure</li>
                                        <li>State healthcare programs</li>
                                    </ul>
                                </div>
                                
                                <hr>
                                
                                <h6><i class="fas fa-lightbulb me-2"></i>Pro Tip</h6>
                                <p class="small">Many issues span both levels! For example, education has federal funding (No Child Left Behind) but state implementation (curriculum standards).</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Interactive Quiz Section -->
        <div class="card mb-5">
            <div class="card-header bg-warning text-dark">
                <h3 class="mb-0">
                    <i class="fas fa-question-circle me-2"></i>Test Your Knowledge
                </h3>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <h6>Quick Quiz</h6>
                        <div class="quiz-question mb-3">
                            <p><strong>1. What percentage of bills introduced in Congress actually become law?</strong></p>
                            <div class="btn-group-vertical w-100" role="group">
                                <button type="button" class="btn btn-outline-secondary quiz-btn" data-answer="wrong">25%</button>
                                <button type="button" class="btn btn-outline-secondary quiz-btn" data-answer="wrong">15%</button>
                                <button type="button" class="btn btn-outline-secondary quiz-btn" data-answer="correct">4%</button>
                                <button type="button" class="btn btn-outline-secondary quiz-btn" data-answer="wrong">50%</button>
                            </div>
                        </div>
                        
                        <div class="quiz-question mb-3">
                            <p><strong>2. Which committee would handle a bill about student loans?</strong></p>
                            <div class="btn-group-vertical w-100" role="group">
                                <button type="button" class="btn btn-outline-secondary quiz-btn" data-answer="correct">Education & Labor</button>
                                <button type="button" class="btn btn-outline-secondary quiz-btn" data-answer="wrong">Armed Services</button>
                                <button type="button" class="btn btn-outline-secondary quiz-btn" data-answer="wrong">Natural Resources</button>
                                <button type="button" class="btn btn-outline-secondary quiz-btn" data-answer="wrong">Homeland Security</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-6">
                        <h6>Your Score</h6>
                        <div class="text-center">
                            <div class="score-display mb-3">
                                <span class="badge bg-primary fs-4" id="quiz-score">0/0</span>
                            </div>
                            <div class="progress mb-3" style="height: 25px;">
                                <div class="progress-bar" id="quiz-progress" style="width: 0%"></div>
                            </div>
                            <button class="btn btn-outline-primary" onclick="resetQuiz()">
                                <i class="fas fa-redo me-1"></i>Reset Quiz
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Call to Action -->
        <div class="card bg-primary text-white">
            <div class="card-body text-center">
                <h4 class="mb-3">
                    <i class="fas fa-rocket me-2"></i>Ready to Engage?
                </h4>
                <p class="lead mb-4">Now that you understand how Congress works, start tracking bills and making your voice heard!</p>
                <div class="d-flex justify-content-center gap-3">
                    <a href="{{ url_for('index') }}" class="btn btn-light btn-lg">
                        <i class="fas fa-search me-2"></i>Browse Bills
                    </a>
                    <a href="{{ url_for('contact') }}" class="btn btn-outline-light btn-lg">
                        <i class="fas fa-envelope me-2"></i>Contact Us
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_scripts %}
<script>
// Quiz functionality
let quizScore = 0;
let totalQuestions = 0;

document.querySelectorAll('.quiz-btn').forEach(btn => {
    btn.addEventListener('click', function() {
        const isCorrect = this.dataset.answer === 'correct';
        const questionDiv = this.closest('.quiz-question');
        
        // Disable all buttons in this question
        questionDiv.querySelectorAll('.quiz-btn').forEach(b => b.disabled = true);
        
        // Update score
        if (isCorrect) {
            quizScore++;
            this.classList.remove('btn-outline-secondary');
            this.classList.add('btn-success');
        } else {
            this.classList.remove('btn-outline-secondary');
            this.classList.add('btn-danger');
            
            // Highlight correct answer
            questionDiv.querySelector('[data-answer="correct"]').classList.remove('btn-outline-secondary');
            questionDiv.querySelector('[data-answer="correct"]').classList.add('btn-success');
        }
        
        totalQuestions++;
        updateQuizDisplay();
    });
});

function updateQuizDisplay() {
    document.getElementById('quiz-score').textContent = `${quizScore}/${totalQuestions}`;
    const percentage = totalQuestions > 0 ? (quizScore / totalQuestions) * 100 : 0;
    document.getElementById('quiz-progress').style.width = `${percentage}%`;
    
    // Update progress bar color based on score
    const progressBar = document.getElementById('quiz-progress');
    progressBar.classList.remove('bg-success', 'bg-warning', 'bg-danger');
    if (percentage >= 80) {
        progressBar.classList.add('bg-success');
    } else if (percentage >= 60) {
        progressBar.classList.add('bg-warning');
    } else {
        progressBar.classList.add('bg-danger');
    }
}

function resetQuiz() {
    quizScore = 0;
    totalQuestions = 0;
    
    document.querySelectorAll('.quiz-btn').forEach(btn => {
        btn.disabled = false;
        btn.classList.remove('btn-success', 'btn-danger');
        btn.classList.add('btn-outline-secondary');
    });
    
    updateQuizDisplay();
}

// Smooth scrolling for lesson navigation
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
    });
});
</script>
{% endblock %}



